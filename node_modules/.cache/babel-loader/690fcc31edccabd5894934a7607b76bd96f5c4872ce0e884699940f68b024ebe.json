{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createDeferred = exports.deferred = void 0;\n/**\n * Creates a new `DeferredPromise`\n *\n * ```typescript\n import {deferred} from '@kwsites/promise-deferred`;\n ```\n */\nfunction deferred() {\n  let done;\n  let fail;\n  let status = 'pending';\n  const promise = new Promise((_done, _fail) => {\n    done = _done;\n    fail = _fail;\n  });\n  return {\n    promise,\n    done(result) {\n      if (status === 'pending') {\n        status = 'resolved';\n        done(result);\n      }\n    },\n    fail(error) {\n      if (status === 'pending') {\n        status = 'rejected';\n        fail(error);\n      }\n    },\n    get fulfilled() {\n      return status !== 'pending';\n    },\n    get status() {\n      return status;\n    }\n  };\n}\nexports.deferred = deferred;\n/**\n * Alias of the exported `deferred` function, to help consumers wanting to use `deferred` as the\n * local variable name rather than the factory import name, without needing to rename on import.\n *\n * ```typescript\n import {createDeferred} from '@kwsites/promise-deferred`;\n ```\n */\nexports.createDeferred = deferred;\n/**\n * Default export allows use as:\n *\n * ```typescript\n import deferred from '@kwsites/promise-deferred`;\n ```\n */\nexports.default = deferred;","map":{"version":3,"names":["deferred","done","fail","status","promise","Promise","_done","_fail","result","error","fulfilled","exports","createDeferred","default"],"sources":["../src/index.ts"],"sourcesContent":[null],"mappings":";;;;;;AA0BA;;;;;;;AAOA,SAAgBA,QAAQA,CAAA;EACrB,IAAIC,IAAyB;EAC7B,IAAIC,IAAwB;EAC5B,IAAIC,MAAM,GAA0B,SAAS;EAE7C,MAAMC,OAAO,GAAe,IAAIC,OAAO,CAAI,CAACC,KAAK,EAAEC,KAAK,KAAI;IACzDN,IAAI,GAAGK,KAAK;IACZJ,IAAI,GAAGK,KAAK;EACf,CAAC,CAAC;EAEF,OAAO;IACJH,OAAO;IACPH,IAAIA,CAAEO,MAAM;MACT,IAAIL,MAAM,KAAK,SAAS,EAAE;QACvBA,MAAM,GAAG,UAAU;QACnBF,IAAI,CAACO,MAAM,CAAC;;IAElB,CAAC;IACDN,IAAIA,CAAEO,KAAK;MACR,IAAIN,MAAM,KAAK,SAAS,EAAE;QACvBA,MAAM,GAAG,UAAU;QACnBD,IAAI,CAACO,KAAK,CAAC;;IAEjB,CAAC;IACD,IAAIC,SAASA,CAAA;MACV,OAAOP,MAAM,KAAK,SAAS;IAC9B,CAAC;IACD,IAAIA,MAAMA,CAAA;MACP,OAAOA,MAAM;IAChB;GACF;AACJ;AA/BAQ,OAAA,CAAAX,QAAA,GAAAA,QAAA;AAiCA;;;;;;;;AAQaW,OAAA,CAAAC,cAAc,GAAGZ,QAAQ;AAEtC;;;;;;;AAOAW,OAAA,CAAAE,OAAA,GAAeb,QAAQ"},"metadata":{},"sourceType":"script","externalDependencies":[]}