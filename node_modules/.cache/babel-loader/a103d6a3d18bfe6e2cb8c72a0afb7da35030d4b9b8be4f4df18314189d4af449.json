{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getWriteFileOptions = exports.writeFileDefaults = exports.getRealpathOptsAndCb = exports.getRealpathOptions = exports.getStatOptsAndCb = exports.getStatOptions = exports.getAppendFileOptsAndCb = exports.getAppendFileOpts = exports.getReaddirOptsAndCb = exports.getReaddirOptions = exports.getReadFileOptions = exports.getRmOptsAndCb = exports.getRmdirOptions = exports.getDefaultOptsAndCb = exports.getDefaultOpts = exports.optsDefaults = exports.optsAndCbGenerator = exports.optsGenerator = exports.getOptions = exports.getMkdirOptions = void 0;\nconst constants_1 = require(\"./constants\");\nconst encoding_1 = require(\"../encoding\");\nconst util_1 = require(\"./util\");\nconst mkdirDefaults = {\n  mode: 511 /* MODE.DIR */,\n  recursive: false\n};\nconst getMkdirOptions = options => {\n  if (typeof options === 'number') return Object.assign({}, mkdirDefaults, {\n    mode: options\n  });\n  return Object.assign({}, mkdirDefaults, options);\n};\nexports.getMkdirOptions = getMkdirOptions;\nconst ERRSTR_OPTS = tipeof => `Expected options to be either an object or a string, but got ${tipeof} instead`;\nfunction getOptions(defaults, options) {\n  let opts;\n  if (!options) return defaults;else {\n    const tipeof = typeof options;\n    switch (tipeof) {\n      case 'string':\n        opts = Object.assign({}, defaults, {\n          encoding: options\n        });\n        break;\n      case 'object':\n        opts = Object.assign({}, defaults, options);\n        break;\n      default:\n        throw TypeError(ERRSTR_OPTS(tipeof));\n    }\n  }\n  if (opts.encoding !== 'buffer') (0, encoding_1.assertEncoding)(opts.encoding);\n  return opts;\n}\nexports.getOptions = getOptions;\nfunction optsGenerator(defaults) {\n  return options => getOptions(defaults, options);\n}\nexports.optsGenerator = optsGenerator;\nfunction optsAndCbGenerator(getOpts) {\n  return (options, callback) => typeof options === 'function' ? [getOpts(), options] : [getOpts(options), (0, util_1.validateCallback)(callback)];\n}\nexports.optsAndCbGenerator = optsAndCbGenerator;\nexports.optsDefaults = {\n  encoding: 'utf8'\n};\nexports.getDefaultOpts = optsGenerator(exports.optsDefaults);\nexports.getDefaultOptsAndCb = optsAndCbGenerator(exports.getDefaultOpts);\nconst rmdirDefaults = {\n  recursive: false\n};\nconst getRmdirOptions = options => {\n  return Object.assign({}, rmdirDefaults, options);\n};\nexports.getRmdirOptions = getRmdirOptions;\nconst getRmOpts = optsGenerator(exports.optsDefaults);\nexports.getRmOptsAndCb = optsAndCbGenerator(getRmOpts);\nconst readFileOptsDefaults = {\n  flag: 'r'\n};\nexports.getReadFileOptions = optsGenerator(readFileOptsDefaults);\nconst readdirDefaults = {\n  encoding: 'utf8',\n  withFileTypes: false\n};\nexports.getReaddirOptions = optsGenerator(readdirDefaults);\nexports.getReaddirOptsAndCb = optsAndCbGenerator(exports.getReaddirOptions);\nconst appendFileDefaults = {\n  encoding: 'utf8',\n  mode: 438 /* MODE.DEFAULT */,\n  flag: constants_1.FLAGS[constants_1.FLAGS.a]\n};\nexports.getAppendFileOpts = optsGenerator(appendFileDefaults);\nexports.getAppendFileOptsAndCb = optsAndCbGenerator(exports.getAppendFileOpts);\nconst statDefaults = {\n  bigint: false\n};\nconst getStatOptions = (options = {}) => Object.assign({}, statDefaults, options);\nexports.getStatOptions = getStatOptions;\nconst getStatOptsAndCb = (options, callback) => typeof options === 'function' ? [(0, exports.getStatOptions)(), options] : [(0, exports.getStatOptions)(options), (0, util_1.validateCallback)(callback)];\nexports.getStatOptsAndCb = getStatOptsAndCb;\nconst realpathDefaults = exports.optsDefaults;\nexports.getRealpathOptions = optsGenerator(realpathDefaults);\nexports.getRealpathOptsAndCb = optsAndCbGenerator(exports.getRealpathOptions);\nexports.writeFileDefaults = {\n  encoding: 'utf8',\n  mode: 438 /* MODE.DEFAULT */,\n  flag: constants_1.FLAGS[constants_1.FLAGS.w]\n};\nexports.getWriteFileOptions = optsGenerator(exports.writeFileDefaults);","map":{"version":3,"names":["constants_1","require","encoding_1","util_1","mkdirDefaults","mode","recursive","getMkdirOptions","options","Object","assign","exports","ERRSTR_OPTS","tipeof","getOptions","defaults","opts","encoding","TypeError","assertEncoding","optsGenerator","optsAndCbGenerator","getOpts","callback","validateCallback","optsDefaults","getDefaultOpts","getDefaultOptsAndCb","rmdirDefaults","getRmdirOptions","getRmOpts","getRmOptsAndCb","readFileOptsDefaults","flag","getReadFileOptions","readdirDefaults","withFileTypes","getReaddirOptions","getReaddirOptsAndCb","appendFileDefaults","FLAGS","a","getAppendFileOpts","getAppendFileOptsAndCb","statDefaults","bigint","getStatOptions","getStatOptsAndCb","realpathDefaults","getRealpathOptions","getRealpathOptsAndCb","writeFileDefaults","w","getWriteFileOptions"],"sources":["../../src/node/options.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}