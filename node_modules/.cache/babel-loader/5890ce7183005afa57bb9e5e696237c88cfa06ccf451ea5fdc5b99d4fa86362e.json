{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unixify = exports.bufferToEncoding = exports.getWriteSyncArgs = exports.getWriteArgs = exports.bufToUint8 = exports.dataToBuffer = exports.validateFd = exports.isFd = exports.flagsToNumber = exports.genRndStr6 = exports.createError = exports.pathToFilename = exports.nullCheck = exports.modeToNumber = exports.validateCallback = exports.promisify = exports.isWin = void 0;\nconst constants_1 = require(\"./constants\");\nconst errors = require(\"../internal/errors\");\nconst encoding_1 = require(\"../encoding\");\nconst buffer_1 = require(\"../internal/buffer\");\nconst queueMicrotask_1 = require(\"../queueMicrotask\");\nexports.isWin = process.platform === 'win32';\nfunction promisify(fs, fn, getResult = input => input) {\n  return (...args) => new Promise((resolve, reject) => {\n    fs[fn].bind(fs)(...args, (error, result) => {\n      if (error) return reject(error);\n      return resolve(getResult(result));\n    });\n  });\n}\nexports.promisify = promisify;\nfunction validateCallback(callback) {\n  if (typeof callback !== 'function') throw TypeError(constants_1.ERRSTR.CB);\n  return callback;\n}\nexports.validateCallback = validateCallback;\nfunction _modeToNumber(mode, def) {\n  if (typeof mode === 'number') return mode;\n  if (typeof mode === 'string') return parseInt(mode, 8);\n  if (def) return modeToNumber(def);\n  return undefined;\n}\nfunction modeToNumber(mode, def) {\n  const result = _modeToNumber(mode, def);\n  if (typeof result !== 'number' || isNaN(result)) throw new TypeError(constants_1.ERRSTR.MODE_INT);\n  return result;\n}\nexports.modeToNumber = modeToNumber;\nfunction nullCheck(path, callback) {\n  if (('' + path).indexOf('\\u0000') !== -1) {\n    const er = new Error('Path must be a string without null bytes');\n    er.code = 'ENOENT';\n    if (typeof callback !== 'function') throw er;\n    (0, queueMicrotask_1.default)(() => {\n      callback(er);\n    });\n    return false;\n  }\n  return true;\n}\nexports.nullCheck = nullCheck;\nfunction getPathFromURLPosix(url) {\n  if (url.hostname !== '') {\n    throw new errors.TypeError('ERR_INVALID_FILE_URL_HOST', process.platform);\n  }\n  const pathname = url.pathname;\n  for (let n = 0; n < pathname.length; n++) {\n    if (pathname[n] === '%') {\n      const third = pathname.codePointAt(n + 2) | 0x20;\n      if (pathname[n + 1] === '2' && third === 102) {\n        throw new errors.TypeError('ERR_INVALID_FILE_URL_PATH', 'must not include encoded / characters');\n      }\n    }\n  }\n  return decodeURIComponent(pathname);\n}\nfunction pathToFilename(path) {\n  if (typeof path !== 'string' && !Buffer.isBuffer(path)) {\n    try {\n      if (!(path instanceof require('url').URL)) throw new TypeError(constants_1.ERRSTR.PATH_STR);\n    } catch (err) {\n      throw new TypeError(constants_1.ERRSTR.PATH_STR);\n    }\n    path = getPathFromURLPosix(path);\n  }\n  const pathString = String(path);\n  nullCheck(pathString);\n  // return slash(pathString);\n  return pathString;\n}\nexports.pathToFilename = pathToFilename;\nconst ENOENT = 'ENOENT';\nconst EBADF = 'EBADF';\nconst EINVAL = 'EINVAL';\nconst EPERM = 'EPERM';\nconst EPROTO = 'EPROTO';\nconst EEXIST = 'EEXIST';\nconst ENOTDIR = 'ENOTDIR';\nconst EMFILE = 'EMFILE';\nconst EACCES = 'EACCES';\nconst EISDIR = 'EISDIR';\nconst ENOTEMPTY = 'ENOTEMPTY';\nconst ENOSYS = 'ENOSYS';\nconst ERR_FS_EISDIR = 'ERR_FS_EISDIR';\nconst ERR_OUT_OF_RANGE = 'ERR_OUT_OF_RANGE';\nfunction formatError(errorCode, func = '', path = '', path2 = '') {\n  let pathFormatted = '';\n  if (path) pathFormatted = ` '${path}'`;\n  if (path2) pathFormatted += ` -> '${path2}'`;\n  switch (errorCode) {\n    case ENOENT:\n      return `ENOENT: no such file or directory, ${func}${pathFormatted}`;\n    case EBADF:\n      return `EBADF: bad file descriptor, ${func}${pathFormatted}`;\n    case EINVAL:\n      return `EINVAL: invalid argument, ${func}${pathFormatted}`;\n    case EPERM:\n      return `EPERM: operation not permitted, ${func}${pathFormatted}`;\n    case EPROTO:\n      return `EPROTO: protocol error, ${func}${pathFormatted}`;\n    case EEXIST:\n      return `EEXIST: file already exists, ${func}${pathFormatted}`;\n    case ENOTDIR:\n      return `ENOTDIR: not a directory, ${func}${pathFormatted}`;\n    case EISDIR:\n      return `EISDIR: illegal operation on a directory, ${func}${pathFormatted}`;\n    case EACCES:\n      return `EACCES: permission denied, ${func}${pathFormatted}`;\n    case ENOTEMPTY:\n      return `ENOTEMPTY: directory not empty, ${func}${pathFormatted}`;\n    case EMFILE:\n      return `EMFILE: too many open files, ${func}${pathFormatted}`;\n    case ENOSYS:\n      return `ENOSYS: function not implemented, ${func}${pathFormatted}`;\n    case ERR_FS_EISDIR:\n      return `[ERR_FS_EISDIR]: Path is a directory: ${func} returned EISDIR (is a directory) ${path}`;\n    case ERR_OUT_OF_RANGE:\n      return `[ERR_OUT_OF_RANGE]: value out of range, ${func}${pathFormatted}`;\n    default:\n      return `${errorCode}: error occurred, ${func}${pathFormatted}`;\n  }\n}\nfunction createError(errorCode, func = '', path = '', path2 = '', Constructor = Error) {\n  const error = new Constructor(formatError(errorCode, func, path, path2));\n  error.code = errorCode;\n  if (path) {\n    error.path = path;\n  }\n  return error;\n}\nexports.createError = createError;\nfunction genRndStr6() {\n  const str = (Math.random() + 1).toString(36).substring(2, 8);\n  if (str.length === 6) return str;else return genRndStr6();\n}\nexports.genRndStr6 = genRndStr6;\nfunction flagsToNumber(flags) {\n  if (typeof flags === 'number') return flags;\n  if (typeof flags === 'string') {\n    const flagsNum = constants_1.FLAGS[flags];\n    if (typeof flagsNum !== 'undefined') return flagsNum;\n  }\n  // throw new TypeError(formatError(ERRSTR_FLAG(flags)));\n  throw new errors.TypeError('ERR_INVALID_OPT_VALUE', 'flags', flags);\n}\nexports.flagsToNumber = flagsToNumber;\nfunction isFd(path) {\n  return path >>> 0 === path;\n}\nexports.isFd = isFd;\nfunction validateFd(fd) {\n  if (!isFd(fd)) throw TypeError(constants_1.ERRSTR.FD);\n}\nexports.validateFd = validateFd;\nfunction dataToBuffer(data, encoding = encoding_1.ENCODING_UTF8) {\n  if (Buffer.isBuffer(data)) return data;else if (data instanceof Uint8Array) return (0, buffer_1.bufferFrom)(data);else return (0, buffer_1.bufferFrom)(String(data), encoding);\n}\nexports.dataToBuffer = dataToBuffer;\nconst bufToUint8 = buf => new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength);\nexports.bufToUint8 = bufToUint8;\nconst getWriteArgs = (fd, a, b, c, d, e) => {\n  validateFd(fd);\n  let offset = 0;\n  let length;\n  let position = null;\n  let encoding;\n  let callback;\n  const tipa = typeof a;\n  const tipb = typeof b;\n  const tipc = typeof c;\n  const tipd = typeof d;\n  if (tipa !== 'string') {\n    if (tipb === 'function') {\n      callback = b;\n    } else if (tipc === 'function') {\n      offset = b | 0;\n      callback = c;\n    } else if (tipd === 'function') {\n      offset = b | 0;\n      length = c;\n      callback = d;\n    } else {\n      offset = b | 0;\n      length = c;\n      position = d;\n      callback = e;\n    }\n  } else {\n    if (tipb === 'function') {\n      callback = b;\n    } else if (tipc === 'function') {\n      position = b;\n      callback = c;\n    } else if (tipd === 'function') {\n      position = b;\n      encoding = c;\n      callback = d;\n    }\n  }\n  const buf = dataToBuffer(a, encoding);\n  if (tipa !== 'string') {\n    if (typeof length === 'undefined') length = buf.length;\n  } else {\n    offset = 0;\n    length = buf.length;\n  }\n  const cb = validateCallback(callback);\n  return [fd, tipa === 'string', buf, offset, length, position, cb];\n};\nexports.getWriteArgs = getWriteArgs;\nconst getWriteSyncArgs = (fd, a, b, c, d) => {\n  validateFd(fd);\n  let encoding;\n  let offset;\n  let length;\n  let position;\n  const isBuffer = typeof a !== 'string';\n  if (isBuffer) {\n    offset = (b || 0) | 0;\n    length = c;\n    position = d;\n  } else {\n    position = b;\n    encoding = c;\n  }\n  const buf = dataToBuffer(a, encoding);\n  if (isBuffer) {\n    if (typeof length === 'undefined') {\n      length = buf.length;\n    }\n  } else {\n    offset = 0;\n    length = buf.length;\n  }\n  return [fd, buf, offset || 0, length, position];\n};\nexports.getWriteSyncArgs = getWriteSyncArgs;\nfunction bufferToEncoding(buffer, encoding) {\n  if (!encoding || encoding === 'buffer') return buffer;else return buffer.toString(encoding);\n}\nexports.bufferToEncoding = bufferToEncoding;\nconst isSeparator = (str, i) => {\n  let char = str[i];\n  return i > 0 && (char === '/' || exports.isWin && char === '\\\\');\n};\nconst removeTrailingSeparator = str => {\n  let i = str.length - 1;\n  if (i < 2) return str;\n  while (isSeparator(str, i)) i--;\n  return str.substr(0, i + 1);\n};\nconst normalizePath = (str, stripTrailing) => {\n  if (typeof str !== 'string') throw new TypeError('expected a string');\n  str = str.replace(/[\\\\\\/]+/g, '/');\n  if (stripTrailing !== false) str = removeTrailingSeparator(str);\n  return str;\n};\nconst unixify = (filepath, stripTrailing = true) => {\n  if (exports.isWin) {\n    filepath = normalizePath(filepath, stripTrailing);\n    return filepath.replace(/^([a-zA-Z]+:|\\.\\/)/, '');\n  }\n  return filepath;\n};\nexports.unixify = unixify;","map":{"version":3,"names":["constants_1","require","errors","encoding_1","buffer_1","queueMicrotask_1","exports","isWin","process","platform","promisify","fs","fn","getResult","input","args","Promise","resolve","reject","bind","error","result","validateCallback","callback","TypeError","ERRSTR","CB","_modeToNumber","mode","def","parseInt","modeToNumber","undefined","isNaN","MODE_INT","nullCheck","path","indexOf","er","Error","code","default","getPathFromURLPosix","url","hostname","pathname","n","length","third","codePointAt","decodeURIComponent","pathToFilename","Buffer","isBuffer","URL","PATH_STR","err","pathString","String","ENOENT","EBADF","EINVAL","EPERM","EPROTO","EEXIST","ENOTDIR","EMFILE","EACCES","EISDIR","ENOTEMPTY","ENOSYS","ERR_FS_EISDIR","ERR_OUT_OF_RANGE","formatError","errorCode","func","path2","pathFormatted","createError","Constructor","genRndStr6","str","Math","random","toString","substring","flagsToNumber","flags","flagsNum","FLAGS","isFd","validateFd","fd","FD","dataToBuffer","data","encoding","ENCODING_UTF8","Uint8Array","bufferFrom","bufToUint8","buf","buffer","byteOffset","byteLength","getWriteArgs","a","b","c","d","e","offset","position","tipa","tipb","tipc","tipd","cb","getWriteSyncArgs","bufferToEncoding","isSeparator","i","char","removeTrailingSeparator","substr","normalizePath","stripTrailing","replace","unixify","filepath"],"sources":["../../src/node/util.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,MAAAA,WAAA,GAAAC,OAAA;AACA,MAAAC,MAAA,GAAAD,OAAA;AAGA,MAAAE,UAAA,GAAAF,OAAA;AACA,MAAAG,QAAA,GAAAH,OAAA;AACA,MAAAI,gBAAA,GAAAJ,OAAA;AAEaK,OAAA,CAAAC,KAAK,GAAGC,OAAO,CAACC,QAAQ,KAAK,OAAO;AAEjD,SAAgBC,SAASA,CACvBC,EAAiB,EACjBC,EAAU,EACVC,SAAA,GAAkCC,KAAK,IAAIA,KAAK;EAEhD,OAAO,CAAC,GAAGC,IAAI,KACb,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;IAC9BP,EAAE,CAACC,EAAE,CAAC,CAACO,IAAI,CAACR,EAAE,CAAC,CAAC,GAAGI,IAAI,EAAE,CAACK,KAAK,EAAEC,MAAM,KAAI;MACzC,IAAID,KAAK,EAAE,OAAOF,MAAM,CAACE,KAAK,CAAC;MAC/B,OAAOH,OAAO,CAACJ,SAAS,CAACQ,MAAM,CAAC,CAAC;IACnC,CAAC,CAAC;EACJ,CAAC,CAAC;AACN;AAZAf,OAAA,CAAAI,SAAA,GAAAA,SAAA;AAcA,SAAgBY,gBAAgBA,CAAIC,QAAW;EAC7C,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE,MAAMC,SAAS,CAACxB,WAAA,CAAAyB,MAAM,CAACC,EAAE,CAAC;EAC9D,OAAOH,QAAkC;AAC3C;AAHAjB,OAAA,CAAAgB,gBAAA,GAAAA,gBAAA;AAKA,SAASK,aAAaA,CAACC,IAA4B,EAAEC,GAAI;EACvD,IAAI,OAAOD,IAAI,KAAK,QAAQ,EAAE,OAAOA,IAAI;EACzC,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE,OAAOE,QAAQ,CAACF,IAAI,EAAE,CAAC,CAAC;EACtD,IAAIC,GAAG,EAAE,OAAOE,YAAY,CAACF,GAAG,CAAC;EACjC,OAAOG,SAAS;AAClB;AAEA,SAAgBD,YAAYA,CAACH,IAA4B,EAAEC,GAAI;EAC7D,MAAMR,MAAM,GAAGM,aAAa,CAACC,IAAI,EAAEC,GAAG,CAAC;EACvC,IAAI,OAAOR,MAAM,KAAK,QAAQ,IAAIY,KAAK,CAACZ,MAAM,CAAC,EAAE,MAAM,IAAIG,SAAS,CAACxB,WAAA,CAAAyB,MAAM,CAACS,QAAQ,CAAC;EACrF,OAAOb,MAAM;AACf;AAJAf,OAAA,CAAAyB,YAAA,GAAAA,YAAA;AAMA,SAAgBI,SAASA,CAACC,IAAI,EAAEb,QAAS;EACvC,IAAI,CAAC,EAAE,GAAGa,IAAI,EAAEC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;IACxC,MAAMC,EAAE,GAAG,IAAIC,KAAK,CAAC,0CAA0C,CAAC;IAC/DD,EAAU,CAACE,IAAI,GAAG,QAAQ;IAC3B,IAAI,OAAOjB,QAAQ,KAAK,UAAU,EAAE,MAAMe,EAAE;IAC5C,IAAAjC,gBAAA,CAAAoC,OAAc,EAAC,MAAK;MAClBlB,QAAQ,CAACe,EAAE,CAAC;IACd,CAAC,CAAC;IACF,OAAO,KAAK;;EAEd,OAAO,IAAI;AACb;AAXAhC,OAAA,CAAA6B,SAAA,GAAAA,SAAA;AAaA,SAASO,mBAAmBA,CAACC,GAAG;EAC9B,IAAIA,GAAG,CAACC,QAAQ,KAAK,EAAE,EAAE;IACvB,MAAM,IAAI1C,MAAM,CAACsB,SAAS,CAAC,2BAA2B,EAAEhB,OAAO,CAACC,QAAQ,CAAC;;EAE3E,MAAMoC,QAAQ,GAAGF,GAAG,CAACE,QAAQ;EAC7B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,QAAQ,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;IACxC,IAAID,QAAQ,CAACC,CAAC,CAAC,KAAK,GAAG,EAAE;MACvB,MAAME,KAAK,GAAGH,QAAQ,CAACI,WAAW,CAACH,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI;MAChD,IAAID,QAAQ,CAACC,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,IAAIE,KAAK,KAAK,GAAG,EAAE;QAC5C,MAAM,IAAI9C,MAAM,CAACsB,SAAS,CAAC,2BAA2B,EAAE,uCAAuC,CAAC;;;;EAItG,OAAO0B,kBAAkB,CAACL,QAAQ,CAAC;AACrC;AAEA,SAAgBM,cAAcA,CAACf,IAAmB;EAChD,IAAI,OAAOA,IAAI,KAAK,QAAQ,IAAI,CAACgB,MAAM,CAACC,QAAQ,CAACjB,IAAI,CAAC,EAAE;IACtD,IAAI;MACF,IAAI,EAAEA,IAAI,YAAYnC,OAAO,CAAC,KAAK,CAAC,CAACqD,GAAG,CAAC,EAAE,MAAM,IAAI9B,SAAS,CAACxB,WAAA,CAAAyB,MAAM,CAAC8B,QAAQ,CAAC;KAChF,CAAC,OAAOC,GAAG,EAAE;MACZ,MAAM,IAAIhC,SAAS,CAACxB,WAAA,CAAAyB,MAAM,CAAC8B,QAAQ,CAAC;;IAGtCnB,IAAI,GAAGM,mBAAmB,CAACN,IAAI,CAAC;;EAGlC,MAAMqB,UAAU,GAAGC,MAAM,CAACtB,IAAI,CAAC;EAC/BD,SAAS,CAACsB,UAAU,CAAC;EACrB;EACA,OAAOA,UAAU;AACnB;AAfAnD,OAAA,CAAA6C,cAAA,GAAAA,cAAA;AAiBA,MAAMQ,MAAM,GAAG,QAAQ;AACvB,MAAMC,KAAK,GAAG,OAAO;AACrB,MAAMC,MAAM,GAAG,QAAQ;AACvB,MAAMC,KAAK,GAAG,OAAO;AACrB,MAAMC,MAAM,GAAG,QAAQ;AACvB,MAAMC,MAAM,GAAG,QAAQ;AACvB,MAAMC,OAAO,GAAG,SAAS;AACzB,MAAMC,MAAM,GAAG,QAAQ;AACvB,MAAMC,MAAM,GAAG,QAAQ;AACvB,MAAMC,MAAM,GAAG,QAAQ;AACvB,MAAMC,SAAS,GAAG,WAAW;AAC7B,MAAMC,MAAM,GAAG,QAAQ;AACvB,MAAMC,aAAa,GAAG,eAAe;AACrC,MAAMC,gBAAgB,GAAG,kBAAkB;AAE3C,SAASC,WAAWA,CAACC,SAAiB,EAAEC,IAAI,GAAG,EAAE,EAAEvC,IAAI,GAAG,EAAE,EAAEwC,KAAK,GAAG,EAAE;EACtE,IAAIC,aAAa,GAAG,EAAE;EACtB,IAAIzC,IAAI,EAAEyC,aAAa,GAAG,KAAKzC,IAAI,GAAG;EACtC,IAAIwC,KAAK,EAAEC,aAAa,IAAI,QAAQD,KAAK,GAAG;EAE5C,QAAQF,SAAS;IACf,KAAKf,MAAM;MACT,OAAO,sCAAsCgB,IAAI,GAAGE,aAAa,EAAE;IACrE,KAAKjB,KAAK;MACR,OAAO,+BAA+Be,IAAI,GAAGE,aAAa,EAAE;IAC9D,KAAKhB,MAAM;MACT,OAAO,6BAA6Bc,IAAI,GAAGE,aAAa,EAAE;IAC5D,KAAKf,KAAK;MACR,OAAO,mCAAmCa,IAAI,GAAGE,aAAa,EAAE;IAClE,KAAKd,MAAM;MACT,OAAO,2BAA2BY,IAAI,GAAGE,aAAa,EAAE;IAC1D,KAAKb,MAAM;MACT,OAAO,gCAAgCW,IAAI,GAAGE,aAAa,EAAE;IAC/D,KAAKZ,OAAO;MACV,OAAO,6BAA6BU,IAAI,GAAGE,aAAa,EAAE;IAC5D,KAAKT,MAAM;MACT,OAAO,6CAA6CO,IAAI,GAAGE,aAAa,EAAE;IAC5E,KAAKV,MAAM;MACT,OAAO,8BAA8BQ,IAAI,GAAGE,aAAa,EAAE;IAC7D,KAAKR,SAAS;MACZ,OAAO,mCAAmCM,IAAI,GAAGE,aAAa,EAAE;IAClE,KAAKX,MAAM;MACT,OAAO,gCAAgCS,IAAI,GAAGE,aAAa,EAAE;IAC/D,KAAKP,MAAM;MACT,OAAO,qCAAqCK,IAAI,GAAGE,aAAa,EAAE;IACpE,KAAKN,aAAa;MAChB,OAAO,yCAAyCI,IAAI,qCAAqCvC,IAAI,EAAE;IACjG,KAAKoC,gBAAgB;MACnB,OAAO,2CAA2CG,IAAI,GAAGE,aAAa,EAAE;IAC1E;MACE,OAAO,GAAGH,SAAS,qBAAqBC,IAAI,GAAGE,aAAa,EAAE;;AAEpE;AAEA,SAAgBC,WAAWA,CAACJ,SAAiB,EAAEC,IAAI,GAAG,EAAE,EAAEvC,IAAI,GAAG,EAAE,EAAEwC,KAAK,GAAG,EAAE,EAAEG,WAAW,GAAGxC,KAAK;EAClG,MAAMnB,KAAK,GAAG,IAAI2D,WAAW,CAACN,WAAW,CAACC,SAAS,EAAEC,IAAI,EAAEvC,IAAI,EAAEwC,KAAK,CAAC,CAAC;EACvExD,KAAa,CAACoB,IAAI,GAAGkC,SAAS;EAE/B,IAAItC,IAAI,EAAE;IACPhB,KAAa,CAACgB,IAAI,GAAGA,IAAI;;EAG5B,OAAOhB,KAAK;AACd;AATAd,OAAA,CAAAwE,WAAA,GAAAA,WAAA;AAWA,SAAgBE,UAAUA,CAAA;EACxB,MAAMC,GAAG,GAAG,CAACC,IAAI,CAACC,MAAM,EAAE,GAAG,CAAC,EAAEC,QAAQ,CAAC,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;EAC5D,IAAIJ,GAAG,CAAClC,MAAM,KAAK,CAAC,EAAE,OAAOkC,GAAG,CAAC,KAC5B,OAAOD,UAAU,EAAE;AAC1B;AAJA1E,OAAA,CAAA0E,UAAA,GAAAA,UAAA;AAMA,SAAgBM,aAAaA,CAACC,KAA8B;EAC1D,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE,OAAOA,KAAK;EAE3C,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC7B,MAAMC,QAAQ,GAAGxF,WAAA,CAAAyF,KAAK,CAACF,KAAK,CAAC;IAC7B,IAAI,OAAOC,QAAQ,KAAK,WAAW,EAAE,OAAOA,QAAQ;;EAGtD;EACA,MAAM,IAAItF,MAAM,CAACsB,SAAS,CAAC,uBAAuB,EAAE,OAAO,EAAE+D,KAAK,CAAC;AACrE;AAVAjF,OAAA,CAAAgF,aAAA,GAAAA,aAAA;AAYA,SAAgBI,IAAIA,CAACtD,IAAI;EACvB,OAAOA,IAAI,KAAK,CAAC,KAAKA,IAAI;AAC5B;AAFA9B,OAAA,CAAAoF,IAAA,GAAAA,IAAA;AAIA,SAAgBC,UAAUA,CAACC,EAAE;EAC3B,IAAI,CAACF,IAAI,CAACE,EAAE,CAAC,EAAE,MAAMpE,SAAS,CAACxB,WAAA,CAAAyB,MAAM,CAACoE,EAAE,CAAC;AAC3C;AAFAvF,OAAA,CAAAqF,UAAA,GAAAA,UAAA;AAIA,SAAgBG,YAAYA,CAACC,IAAgB,EAAEC,QAAA,GAAmB7F,UAAA,CAAA8F,aAAa;EAC7E,IAAI7C,MAAM,CAACC,QAAQ,CAAC0C,IAAI,CAAC,EAAE,OAAOA,IAAI,CAAC,KAClC,IAAIA,IAAI,YAAYG,UAAU,EAAE,OAAO,IAAA9F,QAAA,CAAA+F,UAAU,EAACJ,IAAI,CAAC,CAAC,KACxD,OAAO,IAAA3F,QAAA,CAAA+F,UAAU,EAACzC,MAAM,CAACqC,IAAI,CAAC,EAAEC,QAAQ,CAAC;AAChD;AAJA1F,OAAA,CAAAwF,YAAA,GAAAA,YAAA;AAMO,MAAMM,UAAU,GAAIC,GAAW,IAAiB,IAAIH,UAAU,CAACG,GAAG,CAACC,MAAM,EAAED,GAAG,CAACE,UAAU,EAAEF,GAAG,CAACG,UAAU,CAAC;AAApGlG,OAAA,CAAA8F,UAAU,GAAAA,UAAA;AAEhB,MAAMK,YAAY,GAAGA,CAC1Bb,EAAU,EACVc,CAAW,EACXC,CAAW,EACXC,CAAW,EACXC,CAAW,EACXC,CAAW,KAST;EACFnB,UAAU,CAACC,EAAE,CAAC;EACd,IAAImB,MAAM,GAAW,CAAC;EACtB,IAAIhE,MAA0B;EAC9B,IAAIiE,QAAQ,GAAkB,IAAI;EAClC,IAAIhB,QAAoC;EACxC,IAAIzE,QAAyC;EAC7C,MAAM0F,IAAI,GAAG,OAAOP,CAAC;EACrB,MAAMQ,IAAI,GAAG,OAAOP,CAAC;EACrB,MAAMQ,IAAI,GAAG,OAAOP,CAAC;EACrB,MAAMQ,IAAI,GAAG,OAAOP,CAAC;EACrB,IAAII,IAAI,KAAK,QAAQ,EAAE;IACrB,IAAIC,IAAI,KAAK,UAAU,EAAE;MACvB3F,QAAQ,GAAsBoF,CAAC;KAChC,MAAM,IAAIQ,IAAI,KAAK,UAAU,EAAE;MAC9BJ,MAAM,GAAYJ,CAAE,GAAG,CAAC;MACxBpF,QAAQ,GAAsBqF,CAAC;KAChC,MAAM,IAAIQ,IAAI,KAAK,UAAU,EAAE;MAC9BL,MAAM,GAAYJ,CAAE,GAAG,CAAC;MACxB5D,MAAM,GAAW6D,CAAC;MAClBrF,QAAQ,GAAsBsF,CAAC;KAChC,MAAM;MACLE,MAAM,GAAYJ,CAAE,GAAG,CAAC;MACxB5D,MAAM,GAAW6D,CAAC;MAClBI,QAAQ,GAAkBH,CAAC;MAC3BtF,QAAQ,GAAsBuF,CAAC;;GAElC,MAAM;IACL,IAAII,IAAI,KAAK,UAAU,EAAE;MACvB3F,QAAQ,GAAsBoF,CAAC;KAChC,MAAM,IAAIQ,IAAI,KAAK,UAAU,EAAE;MAC9BH,QAAQ,GAAkBL,CAAC;MAC3BpF,QAAQ,GAAsBqF,CAAC;KAChC,MAAM,IAAIQ,IAAI,KAAK,UAAU,EAAE;MAC9BJ,QAAQ,GAAkBL,CAAC;MAC3BX,QAAQ,GAAmBY,CAAC;MAC5BrF,QAAQ,GAAsBsF,CAAC;;;EAGnC,MAAMR,GAAG,GAAWP,YAAY,CAAkBY,CAAC,EAAEV,QAAQ,CAAC;EAC9D,IAAIiB,IAAI,KAAK,QAAQ,EAAE;IACrB,IAAI,OAAOlE,MAAM,KAAK,WAAW,EAAEA,MAAM,GAAGsD,GAAG,CAACtD,MAAM;GACvD,MAAM;IACLgE,MAAM,GAAG,CAAC;IACVhE,MAAM,GAAGsD,GAAG,CAACtD,MAAM;;EAErB,MAAMsE,EAAE,GAAG/F,gBAAgB,CAACC,QAAQ,CAAC;EACrC,OAAO,CAACqE,EAAE,EAAEqB,IAAI,KAAK,QAAQ,EAAEZ,GAAG,EAAEU,MAAM,EAAEhE,MAAO,EAAEiE,QAAQ,EAAEK,EAAE,CAAC;AACpE,CAAC;AA/DY/G,OAAA,CAAAmG,YAAY,GAAAA,YAAA;AAiElB,MAAMa,gBAAgB,GAAGA,CAC9B1B,EAAU,EACVc,CAA+C,EAC/CC,CAAU,EACVC,CAA2B,EAC3BC,CAAiB,KACuE;EACxFlB,UAAU,CAACC,EAAE,CAAC;EACd,IAAII,QAAoC;EACxC,IAAIe,MAA0B;EAC9B,IAAIhE,MAA0B;EAC9B,IAAIiE,QAAmC;EACvC,MAAM3D,QAAQ,GAAG,OAAOqD,CAAC,KAAK,QAAQ;EACtC,IAAIrD,QAAQ,EAAE;IACZ0D,MAAM,GAAG,CAACJ,CAAC,IAAI,CAAC,IAAI,CAAC;IACrB5D,MAAM,GAAG6D,CAAW;IACpBI,QAAQ,GAAGH,CAAC;GACb,MAAM;IACLG,QAAQ,GAAGL,CAAC;IACZX,QAAQ,GAAGY,CAAmB;;EAEhC,MAAMP,GAAG,GAAWP,YAAY,CAACY,CAAC,EAAEV,QAAQ,CAAC;EAC7C,IAAI3C,QAAQ,EAAE;IACZ,IAAI,OAAON,MAAM,KAAK,WAAW,EAAE;MACjCA,MAAM,GAAGsD,GAAG,CAACtD,MAAM;;GAEtB,MAAM;IACLgE,MAAM,GAAG,CAAC;IACVhE,MAAM,GAAGsD,GAAG,CAACtD,MAAM;;EAErB,OAAO,CAAC6C,EAAE,EAAES,GAAG,EAAEU,MAAM,IAAI,CAAC,EAAEhE,MAAM,EAAEiE,QAAQ,CAAC;AACjD,CAAC;AA/BY1G,OAAA,CAAAgH,gBAAgB,GAAAA,gBAAA;AAiC7B,SAAgBC,gBAAgBA,CAACjB,MAAc,EAAEN,QAA4B;EAC3E,IAAI,CAACA,QAAQ,IAAIA,QAAQ,KAAK,QAAQ,EAAE,OAAOM,MAAM,CAAC,KACjD,OAAOA,MAAM,CAAClB,QAAQ,CAACY,QAAQ,CAAC;AACvC;AAHA1F,OAAA,CAAAiH,gBAAA,GAAAA,gBAAA;AAKA,MAAMC,WAAW,GAAGA,CAACvC,GAAG,EAAEwC,CAAC,KAAI;EAC7B,IAAIC,IAAI,GAAGzC,GAAG,CAACwC,CAAC,CAAC;EACjB,OAAOA,CAAC,GAAG,CAAC,KAAKC,IAAI,KAAK,GAAG,IAAKpH,OAAA,CAAAC,KAAK,IAAImH,IAAI,KAAK,IAAK,CAAC;AAC5D,CAAC;AAED,MAAMC,uBAAuB,GAAI1C,GAAW,IAAY;EACtD,IAAIwC,CAAC,GAAGxC,GAAG,CAAClC,MAAM,GAAG,CAAC;EACtB,IAAI0E,CAAC,GAAG,CAAC,EAAE,OAAOxC,GAAG;EACrB,OAAOuC,WAAW,CAACvC,GAAG,EAAEwC,CAAC,CAAC,EAAEA,CAAC,EAAE;EAC/B,OAAOxC,GAAG,CAAC2C,MAAM,CAAC,CAAC,EAAEH,CAAC,GAAG,CAAC,CAAC;AAC7B,CAAC;AAED,MAAMI,aAAa,GAAGA,CAAC5C,GAAG,EAAE6C,aAAa,KAAY;EACnD,IAAI,OAAO7C,GAAG,KAAK,QAAQ,EAAE,MAAM,IAAIzD,SAAS,CAAC,mBAAmB,CAAC;EACrEyD,GAAG,GAAGA,GAAG,CAAC8C,OAAO,CAAC,UAAU,EAAE,GAAG,CAAC;EAClC,IAAID,aAAa,KAAK,KAAK,EAAE7C,GAAG,GAAG0C,uBAAuB,CAAC1C,GAAG,CAAC;EAC/D,OAAOA,GAAG;AACZ,CAAC;AAEM,MAAM+C,OAAO,GAAGA,CAACC,QAAgB,EAAEH,aAAA,GAAyB,IAAI,KAAY;EACjF,IAAIxH,OAAA,CAAAC,KAAK,EAAE;IACT0H,QAAQ,GAAGJ,aAAa,CAACI,QAAQ,EAAEH,aAAa,CAAC;IACjD,OAAOG,QAAQ,CAACF,OAAO,CAAC,oBAAoB,EAAE,EAAE,CAAC;;EAEnD,OAAOE,QAAQ;AACjB,CAAC;AANY3H,OAAA,CAAA0H,OAAO,GAAAA,OAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}